function main_run(){}function my_carousel(){const slider=document.querySelector(".slider"),transitionTimeOut=500,percentToSwitchToNextSlider=.2,wrapper=document.querySelector(".slider__items");let items=wrapper.querySelectorAll("li.slider__item"),items_pos=[];const mask=wrapper.querySelector(".slider__item--popupFree");let maskTimeOut,maskInter;const leftArrow=slider.querySelector(".arrowNav--left"),rightArrow=slider.querySelector(".arrowNav--right");let arrow_anime;const dots=slider.querySelector(".dots");let dot=[],activeDot;const base_rotate=30,base_scale=2.6;let startX,eX,diff=0,diff_percent=0,scale,scale_l,scale_r,rotate,rotate_l,rotate_r,current_xAll=[],orderNext,orderPrev,mouseDown=!1,centerI,leftI,rightI,nextEle,prevEle,wrapper_width=wrapper.offsetWidth;function autoPlay_carousel(){}function set_id_for_Items(){let j=0;for(let i of items)i.setAttribute("data-slider_item_id",j++)}function update_dot(){let id=centerI.getAttribute("data-slider_item_id");activeDot&&activeDot.classList.remove("active"),activeDot=dot[id],activeDot.classList.add("active")}function generateDots(){for(let i of items){let t=document.createElement("div");t.classList.add("dot"),t.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 42"><path d="M72.12 3.089l51.635 16.943c1.047.343 1.694.694 2.046.969-.352.274-.999.625-2.046.969L72.12 38.911C69.968 39.617 67.029 40 64 40s-5.968-.383-8.12-1.089L4.245 21.969c-1.047-.343-1.694-.694-2.046-.969.353-.274 1-.625 2.046-.969L55.88 3.089C58.032 2.383 60.971 2 64 2s5.968.383 8.12 1.089zm53.931 18.153zm-.007-.471zM1.949 20.759zm.007.471z"/></svg>',dots.appendChild(t),dot.push(t)}}function arrow_trigger(){let direction=this.getAttribute("data-direction");("right"==direction&&rightI||"left"==direction&&leftI)&&(arrow_animeFunc(this),switch_on_trigger(direction))}function arrow_animeFunc(ele){arrow_anime&&arrow_anime.pause(),arrow_anime=anime.timeline({targets:ele.querySelectorAll("path"),easing:"easeOutCubic",duration:200}),arrow_anime.add({translateX:"-30%",delay:anime.stagger(50)}).add({translateX:"0%",delay:anime.stagger(50)},200).add({targets:ele.querySelector("svg"),scale:.8,duration:300},0).add({targets:ele.querySelector("svg"),scale:1},300)}function switch_on_trigger(direction){update_currentX(),update_Item(),"right"==direction?(orderNext=!0,orderPrev=!1,rightI&&(update_mask_hide(),nextEle=rightI.nextElementSibling,nextEle=nextEle.classList.contains("slider__item")?nextEle:void 0,mouseupFunc(0,!0))):"left"==direction&&(orderNext=!1,orderPrev=!0,leftI&&(update_mask_hide(),prevEle=leftI.previousElementSibling,mouseupFunc(0,!0)))}function mousedownFunc(e){startX=e.x||e.touches[0].clientX,update_mask_hide(),orderNext=!1,orderPrev=!1,mouseDown=!0,update_currentX()}function mouseupFunc(e,force_start){(mouseDown||force_start)&&(mouseDown=!1,orderNext?changeOrder("next"):orderPrev&&changeOrder("previous"),reset_Items(),update_mask_show())}function update_currentX(){for(let i=0;i<items.length;i++)current_xAll[i]=items[i].offsetLeft}function moveCarousel(e){if(mouseDown){eX=e.x||e.touches[0].clientX,diff=eX-startX,diff_percent=diff/(wrapper_width/3),scale=3.6-Math.abs(2.6*diff_percent),scale=scale>2.6?2.6:scale,scale=scale<0?0:scale,scale_l=1+2.6*diff_percent,scale_l=scale_l>2.6?2.6:scale_l,scale_l=scale_l<0?0:scale_l,scale_r=1-2.6*diff_percent,scale_r=scale_r>2.6?2.6:scale_r,scale_r=scale_r<0?0:scale_r,rotate=30*-diff_percent,rotate_l=30-30*diff_percent,rotate_r=30*-diff_percent-30;for(let i=0;i<items.length;i++)items[i].style.left=current_xAll[i]+diff+"px";centerI.style.transform=`scale(${scale}) rotateY(${rotate}deg)`,leftI&&(leftI.style.transform=`scale(${scale_l}) rotateY(${rotate_l}deg)`,leftI.style.zIndex=diff_percent>.47?"2":"",prevEle=leftI.previousElementSibling,leftI.style.zIndex=diff_percent>.47?"2":"",prevEle&&(prevEle.style.zIndex="-1",prevEle.style.transform=`scale(${diff_percent<0?0:diff_percent}) rotateY(30deg)`)),rightI&&(rightI.style.transform=`scale(${scale_r}) rotateY(${rotate_r}deg)`,rightI.style.zIndex=diff_percent<-.47?"2":"",nextEle=rightI.nextElementSibling,nextEle=nextEle.classList.contains("slider__item")?nextEle:void 0,nextEle&&(nextEle.style.zIndex="-1",nextEle.style.transform=`scale(${-diff_percent<0?0:-diff_percent}) rotateY(-30deg)`)),centerI.offsetLeft+centerI.offsetWidth/2<wrapper_width/2&&rightI&&diff_percent<-.2?(orderNext=!0,orderPrev=!1):centerI.offsetLeft+centerI.offsetWidth/2>wrapper_width/2&&leftI&&diff_percent>.2&&(orderNext=!1,orderPrev=!0)}}function changeOrder(type){"next"==type?(centerI.classList.remove("slider__item--center"),centerI.classList.add("slider__item--left"),rightI.classList.remove("slider__item--right"),rightI.classList.add("slider__item--center"),leftI&&leftI.classList.remove("slider__item--left"),nextEle&&nextEle.classList.add("slider__item--right"),update_Item()):"previous"==type&&(centerI.classList.remove("slider__item--center"),centerI.classList.add("slider__item--right"),rightI&&rightI.classList.remove("slider__item--right"),leftI.classList.remove("slider__item--left"),leftI.classList.add("slider__item--center"),prevEle&&prevEle.classList.add("slider__item--left"),update_Item()),update_dot()}function reset_Items(){let j=1;if(centerI.setAttribute("style",`transition:500ms;left:${items_pos[1]}`),removeTransition(centerI),leftI)for(leftI.setAttribute("style",`transition:500ms;left:${items_pos[0]}`),removeTransition(leftI),j=1,prevEle=leftI.previousElementSibling;prevEle;)prevEle.setAttribute("style",`transition:500ms;left:-${parseInt(items_pos[1])*j}px`),removeTransition(prevEle),j--,prevEle=prevEle.previousElementSibling;if(rightI)for(rightI.setAttribute("style",`transition:500ms;left:${items_pos[2]}`),removeTransition(rightI),nextEle=rightI.nextElementSibling,j=1;nextEle&&"slider__item"==nextEle.classList[0];)nextEle.setAttribute("style",`transition:500ms;left:${items_pos[2+j]}`),removeTransition(nextEle),j++,nextEle=nextEle.nextElementSibling}function removeTransition(ele){setTimeout(()=>{ele.style.transition=""},500)}function organize(){let k=0,j=0,increase=wrapper.offsetWidth/3;if(items.length>1)for(let i of items)i.style.left=`${Math.round(j)}px`,items_pos[k++]=Math.round(j)+"px",j+=increase;else j=increase,items[0].style.left=`${Math.round(j)}px`,items_pos[0]=Math.round(j)+"px",items_pos[1]=items_pos[0]}function update_Item(){centerI=c_Item(),leftI=l_Item(),rightI=r_Item()}function update_mask_hide(){clearTimeout(maskTimeOut),mask.style.display="none"}function update_mask_show(){maskTimeOut=setTimeout(()=>{const img=centerI.querySelector("img"),imgBound=img.getBoundingClientRect();let maskImg=mask.querySelector("img");maskImg.src=img.src,mask.style.width=imgBound.width+"px";let left=imgBound.left-wrapper.getBoundingClientRect().left;maskInter&&clearInterval(maskInter),centerI.classList.contains("slider__item--loaded")?mask.classList.add("slider__item--loaded"):(mask.classList.remove("slider__item--loaded"),maskInter=setInterval(()=>{maskImg.complete&&(clearInterval(maskInter),mask.classList.add("slider__item--loaded"))},200)),mask.style.display="flex",mask.style.left=left+"px"},520)}function c_Item(){return wrapper.querySelector(".slider__item--center")}function l_Item(){return wrapper.querySelector(".slider__item--left")}function r_Item(){return wrapper.querySelector(".slider__item--right")}set_id_for_Items(),update_mask_show(),update_Item(),organize(),update_currentX(),generateDots(),update_dot(),wrapper.addEventListener("mousedown",mousedownFunc),window.addEventListener("mouseup",mouseupFunc),window.addEventListener("mousemove",moveCarousel),leftArrow.addEventListener("click",arrow_trigger),rightArrow.addEventListener("click",arrow_trigger),window.addEventListener("resize",e=>{wrapper_width=wrapper.offsetWidth,organize(),reset_Items(),update_mask_hide(),update_mask_show()}),wrapper.addEventListener("touchstart",mousedownFunc),window.addEventListener("touchmove",moveCarousel),window.addEventListener("touchend",mouseupFunc)}function generateSliders(){const wrapper=document.querySelector(".slider__items"),order=["slider__item--left","slider__item--center","slider__item--right"];for(let i=0;i<_slider_items.length;i++){let ele=document.createElement("li");ele.classList.add("slider__item"),ele.classList.add("slider__item--loading"),i<3&&ele.classList.add(order[i]),ele.innerHTML=`<div class="pt" style="--pt: 56.25%"><img src="${_slider_items[i].src}" draggable="false" alt="" /></div>`,wrapper.appendChild(ele);let img=ele.querySelector("img");img.complete?ele.classList.add("slider__item--loaded"):img.onload=e=>{ele.classList.add("slider__item--loaded")}}1==_slider_items.length&&wrapper.querySelector(".slider__item").classList.replace(order[0],order[1]);let ele=document.createElement("li");ele.classList.add("slider__item--popupFree"),ele.classList.add("slider__item--loading"),ele.innerHTML='<div class="pt" style="--pt: 56.25%"><img src="" draggable="false" alt="" /></div>',wrapper.appendChild(ele)}document.addEventListener("readystatechange",()=>{"complete"===document.readyState&&(anime.suspendWhenDocumentHidden=!1,generateSliders(),my_carousel())});