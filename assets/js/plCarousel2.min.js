function generateSliders(){const wrapper=document.querySelector(".slider__items"),dots=document.querySelector(".slider .dots");wrapper.innerHTML="",dots.innerHTML="";let dot=document.createElement("div");dot.classList.add("dot"),dot.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 42"><path d="M72.12 3.089l51.635 16.943c1.047.343 1.694.694 2.046.969-.352.274-.999.625-2.046.969L72.12 38.911C69.968 39.617 67.029 40 64 40s-5.968-.383-8.12-1.089L4.245 21.969c-1.047-.343-1.694-.694-2.046-.969.353-.274 1-.625 2.046-.969L55.88 3.089C58.032 2.383 60.971 2 64 2s5.968.383 8.12 1.089zm53.931 18.153zm-.007-.471zM1.949 20.759zm.007.471z"/></svg>';const order=["slider__item--left","slider__item--center","slider__item--right"];_slider_items.forEach((r,i)=>{let ele=document.createElement("li");ele.classList.add("slider__item"),ele.classList.add("slider__item--loading"),ele.innerHTML='<div class="pt" style="--pt: 56.25%"><img src="" draggable="false" alt="" /></div>';let img=ele.querySelector("img"),fImg=new Image;fImg.onload=()=>{img.src=r.src,ele.classList.add("slider__item--loaded")},fImg.src=r.src,wrapper.appendChild(ele),dots.appendChild(dot.cloneNode(!0))})}function my_carousel2(){function sActive(ele){ele.classList.add("active")}function rActive(ele){ele.classList.remove("active")}function getIndex(){let index=0;for(let i of sliders){if(i.classList.contains("active"))return index;index++}}function updateCurrent(ele){sActive(ele),lastActiveSlider&&rActive(lastActiveSlider),updateDot()}function getNext(){let el=curTarget.nextElementSibling;return el||(sliders.length>1?sliders[0]:null)}function getPrev(){let el=curTarget.previousElementSibling;return el||(sliders.length>1?sliders[sliders.length-1]:null)}function updateTargets(){curTarget=[...sliders].find(r=>r.classList.contains("active")),nextTarget=getNext(),prevTarget=getPrev()}function backPos(){[...arguments].forEach(r=>{r&&(r.style.transition=baseAnimateDur+"ms",r.style.opacity="",setTimeout(()=>{r.removeAttribute("style")},baseAnimateDur))})}function refreshSlider(direction){"l"==direction&&prevTarget?(updateCurrent(prevTarget),backPos(prevTarget,curTarget),updateTargets()):"r"==direction&&nextTarget?(updateCurrent(nextTarget),backPos(nextTarget,curTarget),updateTargets()):backPos(nextTarget,curTarget,prevTarget)}function updateDot(){const at=getIndex();sActive(dots[at]),lastDot&&rActive(lastDot),lastDot=dots[at]}function dir(percent){return percent<=-baseMinForceSide?"r":percent>=baseMinForceSide?"l":"m"}function mDown(e){clearInterval(autoCarouselInter),down=!0,startX=e.x||e.touches[0].clientX,updateTargets(),lastActiveSlider=null,targetWith=e.target.offsetWidth}function mMove(e){down&&(eX=e.x||e.touches[0].clientX,diff=eX-startX,diffPercent=diff/targetWith*baseFast,curTarget.style.opacity=1-Math.abs(diffPercent),nextTarget&&(nextTarget.style.opacity=-diffPercent),prevTarget&&(prevTarget.style.opacity=diffPercent),diffPercent<=-1&&nextTarget?(startX=e.x||e.touches[0].clientX,lastActiveSlider=curTarget,updateCurrent(nextTarget),updateTargets()):diffPercent>=1&&prevTarget&&(startX=e.x||e.touches[0].clientX,lastActiveSlider=curTarget,updateCurrent(prevTarget),updateTargets()))}function mUp(e){autoCarousel(baseSpeedAutoCarousel),down&&(lastActiveSlider=curTarget,refreshSlider(dir(diffPercent))),down=!1}function arrow_animeFunc(ele){arrow_anime&&arrow_anime.pause(),arrow_anime=anime.timeline({targets:ele.querySelectorAll("path"),easing:"easeOutCubic",duration:200}),arrow_anime.add({translateX:"-30%",delay:anime.stagger(50)}).add({translateX:"0%",delay:anime.stagger(50)},200).add({targets:ele.querySelector("svg"),scale:.8,duration:300},0).add({targets:ele.querySelector("svg"),scale:1},300)}function clickArr(e){clearInterval(autoCarouselInter);let arr=e.target.closest("._arrowNav"),direction=arr.getAttribute("data-direction");arrow_animeFunc(arr),updateTargets(),lastActiveSlider=curTarget,refreshSlider(direction.charAt(0))}function autoCarousel(inter){clearInterval(autoCarouselInter),autoCarouselInter=setInterval(()=>{updateTargets(),lastActiveSlider=curTarget,refreshSlider("r")},inter)}const slider=document.querySelector(".slider"),wrapper=slider.querySelector(".slider__items"),sliders=slider.querySelectorAll(".slider__item"),dots=slider.querySelectorAll(".dot"),arrows=slider.querySelector(".arrowNav"),baseFast=2,baseMinForceSide=.2,baseAnimateDur=800,baseSpeedAutoCarousel=5e3;let activeSlider,lastActiveSlider,down=!1,nextTarget,prevTarget,curTarget,targetWith,arrow_anime,autoCarouselInter,lastDot,diff,diffPercent,startX,eX;updateCurrent(sliders[0]),wrapper.addEventListener("mousedown",mDown),window.addEventListener("mouseup",mUp),window.addEventListener("mousemove",mMove),wrapper.addEventListener("touchstart",mDown),window.addEventListener("touchend",mUp),window.addEventListener("touchmove",mMove),arrows.addEventListener("mousedown",clickArr),arrows.addEventListener("touchstart",clickArr),autoCarousel(baseSpeedAutoCarousel)}document.addEventListener("readystatechange",()=>{"complete"===document.readyState&&(anime.suspendWhenDocumentHidden=!1,generateSliders(),my_carousel2())});