function _myDefaultWp(ele,callback){let inter=setInterval(()=>{if(canRunAnimate){clearInterval(inter);let wp=new Waypoint({element:ele,handler:function(d){"down"==d&&(wp.destroy(),callback())},offset:`${2*window.innerHeight/3/window.innerHeight*100}%`})}},100)}function setStuff(){function transformLeftScreen(elementNode){anime({targets:elementNode,translateX:0,duration:0});const bound=elementNode.getBoundingClientRect();return anime({targets:elementNode,translateX:-bound.right,duration:0}),-bound.right}function rmStyle(ele){ele.removeAttribute("style")}window.addEventListener("resize",e=>{Waypoint.refreshAll()});const headerIcons=document.querySelectorAll(".header__nav_item"),sect1=document.querySelector(".content"),sect2=document.querySelector(".content--alt"),circleShape=[document.querySelector(".blurCircle--1"),document.querySelector(".blurCircle--2")];let title=[],des=[],cover=[],btn=[],arrSect=[];[...headerIcons].forEach(r=>{transformLeftScreen(r),r.style.transformOrigin="right"}),_myDefaultWp(headerIcons[0],()=>{anime({targets:headerIcons,opacity:[0,1],translateX:0,scaleX:{value:[0,1],duration:1600},delay:anime.stagger(80),duration:1e3,complete:()=>{[...headerIcons].forEach(r=>{rmStyle(r)})}})}),title.push(sect1.querySelector(".content__title")),des.push(sect1.querySelector(".content__des")),cover.push(sect1.querySelector(".content_wrapper")),btn.push(sect1.querySelector(".content__btn")),arrSect.push(...title,...des,...cover,...btn),title.push(sect2.querySelector(".content__title")),des.push(sect2.querySelector(".content__des")),cover.push(sect2.querySelector(".content_wrapper")),btn.push(sect2.querySelector(".content__btn")),arrSect=[...arrSect,...title,...des,...cover,...btn,...circleShape],arrSect.forEach(r=>{r.style.opacity="0",r.style.transition="0s"}),window.innerWidth>=1280&&(cover[0].style.transformOrigin="left",cover[1].style.transformOrigin="right"),cover.forEach((r,i)=>{_myDefaultWp(r,()=>{anime({targets:r,opacity:[0,1],scale:[0,1],scaleX:{value:[0,1],duration:1500},easing:"easeOutQuart",duration:800,begin:()=>{r.querySelector("svg").classList.add("animate")},complete:()=>{rmStyle(r)}}),anime({targets:circleShape[i],opacity:[0,1],scale:[0,1],easing:"easeOutQuart",duration:1400})})}),title.forEach((r,i)=>{_myDefaultWp(r,()=>{let negative=i?1:-1;anime({targets:r,opacity:{value:[0,1],easing:"easeOutBack"},skewX:{value:[180*negative,0],duration:1400},translateX:[`${-negative}00%`,0],duration:1200,complete:()=>{rmStyle(r)}})})}),des.forEach(r=>{_myDefaultWp(r,()=>{r.style.transformOrigin="top",anime({targets:r,opacity:[0,1],scaleY:[0,1],translateY:["-100%",0],easing:"easeOutBack",duration:700,complete:()=>{rmStyle(r)}})})}),console.log(title)}var canRunAnimate=!1;document.addEventListener("readystatechange",()=>{if("complete"===document.readyState){setStuff();let inter=setInterval(()=>{loader_loaded&&(clearInterval(inter),canRunAnimate=!0)},50)}});