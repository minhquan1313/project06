!function(){var rangeWrapper=document.querySelector(".range__wrapper"),rangeInput=document.querySelector(".range__input"),rangeValues=document.querySelector(".range__values"),rangeValueNumberTop=document.querySelector(".range__value__number--top"),rangeValueNumberBottom=document.querySelector(".range__value__number--bottom"),rangeSliderPaths=document.querySelectorAll(".range__slider__path"),mouseX=0,mouseY=0,mouseInitialY=0,mouseDy=0,mouseDyLimit=150,mouseDyFactor=3,max=100,rangeMin=parseInt(rangeInput.min),rangeMax=parseInt(rangeInput.max),rangeValue=parseInt(rangeInput.value),rangeHeight=480,currentY=480*rangeValue/100,rangeMinY=480*rangeMin/100,rangeMaxY=480*rangeMax/100,scaleMax=.32,scale,newPath,newY,newSliderY,lastMouseDy,rangeWrapperLeft,pageX,pageY;function buildPath(dy,ty){return"M 0 "+ty+" q "+mouseX+" "+dy+" 320 0 l 0 480 l -320 0 Z"}function updateValue(){anime.remove([rangeValues,rangeSliderPaths[0],rangeSliderPaths[1]]),rangeValue=parseInt(100*currentY/480),scale=(rangeValue-rangeMin)/(rangeMax-rangeMin)*.32,rangeInput.value=rangeValue,rangeValueNumberTop.innerText=100-rangeValue,rangeValueNumberBottom.innerText=rangeValue,rangeValues.style.transform="translateY("+(480-currentY)+"px)",rangeValueNumberTop.style.transform="scale("+(1-scale)+")",rangeValueNumberBottom.style.transform="scale("+(1-(.32-scale))+")",lastMouseDy=Math.abs(mouseDy)<150?mouseDy:mouseDy<0?-150:150,((newSliderY=currentY+lastMouseDy/3)<rangeMinY||newSliderY>rangeMaxY)&&(newSliderY=newSliderY<rangeMinY?rangeMinY:rangeMaxY),newPath=buildPath(lastMouseDy,480-newSliderY),rangeSliderPaths[0].setAttribute("d",newPath),rangeSliderPaths[1].setAttribute("d",newPath)}function elasticRelease(){anime({targets:rangeSliderPaths,d:buildPath(1.3*-lastMouseDy,480-(currentY-lastMouseDy/3)),duration:150,easing:"linear",complete:function(){anime({targets:rangeSliderPaths,d:buildPath(0,480-currentY),duration:4e3,elasticity:880})}}),anime({targets:rangeValues,translateY:480-(currentY+lastMouseDy/3/4),duration:150,easing:"linear",complete:function(){anime({targets:rangeValues,translateY:480-currentY,duration:4e3,elasticity:880})}})}function mouseDown(e){mouseY=mouseInitialY=e.targetTouches?e.targetTouches[0].pageY:e.pageY,rangeWrapperLeft=rangeWrapper.getBoundingClientRect().left}function mouseMove(e){mouseY&&(pageX=e.targetTouches?e.targetTouches[0].pageX:e.pageX,pageY=e.targetTouches?e.targetTouches[0].pageY:e.pageY,mouseX=pageX-rangeWrapperLeft,mouseDy=3*(pageY-mouseInitialY),(newY=currentY+mouseY-pageY)>=rangeMinY&&newY<=rangeMaxY?(currentY=newY,mouseY=pageY):currentY=newY<rangeMinY?rangeMinY:rangeMaxY,updateValue())}function mouseUp(){mouseDy&&elasticRelease(),mouseY=mouseDy=0}updateValue(),rangeWrapper.addEventListener("mousedown",mouseDown),rangeWrapper.addEventListener("touchstart",mouseDown),rangeWrapper.addEventListener("mousemove",mouseMove),rangeWrapper.addEventListener("touchmove",mouseMove),rangeWrapper.addEventListener("mouseup",mouseUp),rangeWrapper.addEventListener("mouseleave",mouseUp),rangeWrapper.addEventListener("touchend",mouseUp)}();